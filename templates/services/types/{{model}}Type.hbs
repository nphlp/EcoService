import { Prisma } from "@prisma/client";
import { InternalArgs } from "@prisma/client/runtime/library";

// ============== Utils ============== //

type Payload = Prisma.${{modelName}}Payload<InternalArgs>;

type Flatten<T> = T extends infer U ? { [K in keyof U]: U[K] } : never;

// ============== Model ============== //

/**
 * {{modelName}} native fields only
 */
export type {{modelName}}Fields = Flatten<Payload["scalars"]>;

/**
 * {{modelName}} relations fields only
 */
export type {{modelName}}Relations = {
    [K in keyof Payload["objects"]]: Payload["objects"][K] extends Array<infer T>
        ? T extends { scalars: unknown }
            ? Flatten<T["scalars"]>[]
            : never
        : Payload["objects"][K] extends { scalars: unknown }
          ? Flatten<Payload["objects"][K]["scalars"]>
          : never;
};

/**
 * {{modelName}} native and relations fields
 */
export type {{modelName}}Complete = Flatten<{{modelName}}Fields & {{modelName}}Relations>;

/**
 * {{modelName}} count type
 */
export type {{modelName}}Count = number;

// ============== Mutations ============== //

// Create
export type {{modelName}}CreateProps = Prisma.{{modelName}}CreateArgs;
export type {{modelName}}CreateResponse<T extends {{modelName}}CreateProps> = Prisma.{{modelName}}GetPayload<T>;

// Upsert
export type {{modelName}}UpsertProps = Prisma.{{modelName}}UpsertArgs;
export type {{modelName}}UpsertResponse<T extends {{modelName}}UpsertProps> = Prisma.{{modelName}}GetPayload<T>;

// Update
export type {{modelName}}UpdateProps = Prisma.{{modelName}}UpdateArgs;
export type {{modelName}}UpdateResponse<T extends {{modelName}}UpdateProps> = Prisma.{{modelName}}GetPayload<T>;

// Delete
export type {{modelName}}DeleteProps = Prisma.{{modelName}}DeleteArgs;
export type {{modelName}}DeleteResponse<T extends {{modelName}}DeleteProps> = Prisma.{{modelName}}GetPayload<T>;

// Create Many
export type {{modelName}}CreateManyProps = Prisma.{{modelName}}CreateManyArgs;
export type {{modelName}}CreateManyResponse = { count: number };

// Update Many
export type {{modelName}}UpdateManyProps = Prisma.{{modelName}}UpdateManyArgs;
export type {{modelName}}UpdateManyResponse = { count: number };

// Delete Many
export type {{modelName}}DeleteManyProps = Prisma.{{modelName}}DeleteManyArgs;
export type {{modelName}}DeleteManyResponse = { count: number };
